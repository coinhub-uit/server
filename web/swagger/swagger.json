{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"RootController_root","parameters":[],"responses":{"200":{"description":""}},"tags":["Root"]}},"/users":{"post":{"description":"Register a profile for exist user in supabase's auth database. (User only)","operationId":"UserController_createUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Create User Request Schema"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Register profile","tags":["User"]},"put":{"description":"Update user's information, need to send all properties.","operationId":"UserController_updateUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update information","tags":["User"]},"patch":{"description":"Update paritial user's information. User ID is required for admin request.","operationId":"UserController_updateParitialUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateParitialUserDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Update paritial information","tags":["User"]},"get":{"description":"Get all users","operationId":"UserController_getUsers","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get users","tags":["User"]}},"/users/{id}":{"delete":{"description":"Delete user with user id","operationId":"UserController_deleteUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete user","tags":["User"]},"get":{"description":"Get user information by ID","operationId":"UserController_getUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Get user infomation","tags":["User"]}},"/payment/tranfer-money":{"post":{"operationId":"PaymentController_tranferMoney","parameters":[],"responses":{"201":{"description":""}},"tags":["Payment"]}},"/payment/vnpay/create":{"post":{"operationId":"VnpayController_createPaymentVNPay","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Create VNPAY payload"}}}},"responses":{"200":{"description":"Create VNPay Payment","content":{"application/json":{"example":{"url":"https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=1806000&vnp_Command=pay&vnp_CreateDate=20210801153333&vnp_CurrCode=VND&vnp_IpAddr=127.0.0.1&vnp_Locale=vn&vnp_OrderInfo=Thanh+toan+don+hang+%3A5&vnp_OrderType=other&vnp_ReturnUrl=https%3A%2F%2Fdomainmerchant.vn%2FReturnUrl&vnp_TmnCode=DEMOV210&vnp_TxnRef=5&vnp_Version=2.1.0&vnp_SecureHash=3e0d61a0c0534b2e36680b3f7277743e8784cc4e1d68fa7d276e79c23be7d6318d338b477910a27992f5057bb1582bd44bd82ae8009ffaf6d141219218625c42"}}}}},"security":[{"bearer":[]}],"tags":["Vnpay"]}},"/payment/vnpay/vnpay-ipn":{"get":{"operationId":"VnpayController_paymentCallBack","parameters":[],"responses":{"200":{"description":""}},"tags":["Vnpay"]}},"/plans":{"get":{"operationId":"PlanController_findAll","parameters":[{"name":"days","required":true,"in":"query","schema":{"type":"number"}},{"name":"isDisabled","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":""}},"tags":["Plan"]}},"/plans/{id}":{"get":{"operationId":"PlanController_getPlanById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Plan"]}},"/available-plans":{"get":{"operationId":"AvailablePlanController_findAvailablePlan","parameters":[],"responses":{"200":{"description":""}},"tags":["AvailablePlan"]}},"/tickets/{id}":{"get":{"operationId":"TicketController_getTicketById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Ticket"]}},"/tickets/{userId}":{"get":{"operationId":"TicketController_getTicketByUserId","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Ticket"]}},"/methods/{id}":{"get":{"operationId":"MethodController_getMethodById","parameters":[],"responses":{"200":{"description":""}},"tags":["Method"]}},"/admins/create":{"post":{"operationId":"AdminController_createAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Create admin payload"}}}},"responses":{"201":{"description":"Successfully logged in"}},"tags":["Admin"]}},"/admins":{"get":{"operationId":"AdminController_getAdmins","parameters":[],"responses":{"200":{"description":"Get admins' information","content":{"application/json":{"example":[{"username":"GuessMe","password":"StealMe!!"},{"username":"foo","password":"bar"}]}}}},"security":[{"bearer":[]}],"tags":["Admin"]}},"/admins/login":{"post":{"operationId":"AdminController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login Admin Payload"}}}},"responses":{"200":{"description":"Login the admin","content":{"application/json":{"example":{"username":"admin","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0MjgzMDI3NywiZXhwIjoxNzQyODMzODc3fQ.Uqnp518LNF6ZRVmrIy97c165XPAo5-s44UV0cTlS6f4","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0MjgzMDI3NywiZXhwIjoxNzQzNDM1MDc3fQ.KdWa6w76vn1GTz0sPM8bCzmoneJxEBsRMtdP5WlfdnE"}}}},"401":{"description":"Who the fuck are you?"}},"tags":["Admin"]}},"/admins/refresh":{"post":{"operationId":"AdminController_refreshToken","parameters":[],"responses":{"200":{"description":"Successfully refreshed the token","content":{"application/json":{"example":{"username":"GuessMe","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0MjgzMDI3NywiZXhwIjoxNzQyODMzODc3fQ.Uqnp518LNF6ZRVmrIy97c165XPAo5-s44UV0cTlS6f4"}}}},"401":{"description":"Who the fuck are you?"}},"security":[{"bearer":[]}],"tags":["Admin"]}}},"info":{"title":"CoinHub","description":"CoinHub API docs","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Create User Request Schema":{"type":"object","properties":{"id":{"type":"string","description":"UUID of the user retreive from supabase","example":"20c75444-798a-4708-9105-69de67e35c1c"},"username":{"type":"string","description":"Username","example":"chihencube123"},"fullname":{"type":"string","description":"Fullname","example":"Tran Nguyen Chi Hen"},"birthDate":{"type":"string","description":"Birth date","example":"3/31/2001"},"citizenId":{"type":"string","description":"Citizen ID","example":"077002455001"},"avatar":{"type":"string","description":"Avatar URL","example":"https://avatars.githubusercontent.com/u/86353526?v=4"},"address":{"type":"string","description":"Address","example":"4011 Lowland Drive,Woodstock"},"phoneNumber":{"type":"string","description":"Phone number","example":"0945678910"}},"required":["id","username","fullname","birthDate","citizenId"]},"UpdateUserDto":{"type":"object","properties":{"id":{"type":"string","description":"UUID of the user retreive from supabase","example":"20c75444-798a-4708-9105-69de67e35c1c"},"username":{"type":"string","description":"Username","example":"chihencube123"},"fullname":{"type":"string","description":"Fullname","example":"Tran Nguyen Chi Hen"},"birthDate":{"type":"string","description":"Birth date","example":"3/31/2001"},"citizenId":{"type":"string","description":"Citizen ID","example":"077002455001"},"avatar":{"type":"string","description":"Avatar URL","example":"https://avatars.githubusercontent.com/u/86353526?v=4"},"address":{"type":"string","description":"Address","example":"4011 Lowland Drive,Woodstock"},"phoneNumber":{"type":"string","description":"Phone number","example":"0945678910"}},"description":"Update User Request Schema","required":["id","username","fullname","birthDate","citizenId"]},"UpdateParitialUserDto":{"type":"object","properties":{"id":{"type":"string","description":"UUID of the user retreive from supabase","example":"20c75444-798a-4708-9105-69de67e35c1c"},"username":{"type":"string","description":"Username","example":"chihencube123"},"fullname":{"type":"string","description":"Fullname","example":"Tran Nguyen Chi Hen"},"birthDate":{"type":"string","description":"Birth date","example":"3/31/2001"},"citizenId":{"type":"string","description":"Citizen ID","example":"077002455001"},"avatar":{"type":"string","description":"Avatar URL","example":"https://avatars.githubusercontent.com/u/86353526?v=4"},"address":{"type":"string","description":"Address","example":"4011 Lowland Drive,Woodstock"},"phoneNumber":{"type":"string","description":"Phone number","example":"0945678910"}},"description":"Update Partial User Request Schema"},"Create VNPAY payload":{"type":"object","properties":{"type":{"type":"string","description":"Top up type (I mean,... provider?)","examples":["VNPAY","MOMO","ZALOPAY"],"enum":["VNPAY","MOMO","ZALOPAY"]},"returnUrl":{"type":"string","description":"Return URL to client app","example":"coinhub://home"},"amount":{"type":"number","description":"The amount of money","example":100000},"sourceDestination":{"type":"string","description":"Source destination","example":"1234567890"},"ipAddress":{"type":"string","description":"IP of the client","example":"42.114.190.170"}},"required":["type","returnUrl","amount","sourceDestination","ipAddress"]},"Create admin payload":{"type":"object","properties":{"username":{"type":"string","description":"Username","example":"GuessMe"},"password":{"type":"string","description":"Password","example":"StealMe!!"}},"description":"The payload schema for body of creating admin","required":["username","password"]},"Login Admin Payload":{"type":"object","properties":{"username":{"type":"string","description":"Username","example":"GuessMe"},"password":{"type":"string","description":"Password","example":"StealMe!!"}},"description":"The payload schema for body of login admin","required":["username","password"]}}}}